@using MobileShop.Models
@model List<MobileShop.Models.Giohang>
@{
    ViewBag.Title = "Gio hang";

}
<div class="product-big-title-area">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="product-bit-title text-center">
                    <h2>Shopping Cart</h2>
                </div>
            </div>
        </div>
    </div>
</div> <!-- End Page title area -->


<div class="single-product-area">

    <div class="container">
        <div class="row">
            <div>
                <div class="product-content-right">
                    <div class="woocommerce">
                       
                            <table cellspacing="0" class="shop_table cart">

                                <thead>
                                    <tr>
                                        <th class="product-remove">&nbsp;</th>
                                        <th class="product-thumbnail">&nbsp;</th>
                                        <th class="product-name">Tên Sản Phẩm</th>
                                        <th class="product-price">Đơn giá</th>
                                        <th class="product-quantity">Số lượng</th>
                                        <th class="product-subtotal">Thành tiền</th>
                                    </tr>
                                </thead>

                                <tbody>
                                    @{ int Total = 0;}
                                    @foreach (var item in Model)
                                    {


                                        <tr class="cart_item">
                                            <td class="product-remove">
                                                @using (Html.BeginForm("Xoagiohang", "GioHang", new { @Masp = item.Masp }))
                                                {
                                                    <input type="submit" value="Xoa" name="delete_cart" class="button">
                                                }

                                            </td>

                                            <td class="product-thumbnail">
                                            </td>

                                            <td class="product-name">
                                                <a href="single-product.html">@item.Masp</a>

                                            </td>

                                            <td class="product-price">
                                                <span class="amount">@item.Dongia</span>
                                            </td>

                                            <td class="product-quantity">
                                                <div class="quantity buttons_added">

                                                    <input type="number" size="4" class="input-text qty text" title="Qty" value="@item.Soluong" min="0" step="1">


                                                </div>
                                            </td>
                                            @{ var THanhtien = item.Dongia * item.Soluong;}

                                            @{ Total = Total + (int)THanhtien;}


                                            <td class="product-subtotal">
                                                <span class="amount">@THanhtien</span>
                                            </td>
                                            <td>
                                                @using (Html.BeginForm("CapnhatGiohang", "GioHang", new { @Masp = item.Masp, @Soluong = item.Soluong }))
                                                {
                                                    <input type="submit" value="Update Cart" name="update_cart" class="button">
                                                }
                                            </td>

                                        </tr>

                                    }
                                   
                                <tr>
                                    <form asp-action="DatHang" asp-controller="GioHang">


                                        <input type="submit" value="Checkout" name="proceed" class="checkout-button button alt wc-forward">

                                        <label style="min-width:100px">Người Nhận :</label>
                                        <input name="name" style="min-width:50px" placeholder="Người nhận :" />
                                        <br />
                                        <label style="min-width:100px">Địa chỉ :</label>
                                        <input name="address" style="min-width:50px" placeholder="Địa chỉ người nhận :" />
                                        <br />
                                        <label style="min-width:100px"> Số điện thoại :</label>
                                        <input name="phone" style="min-width:50px" placeholder="Số điện thoại :" />
                                    <td class="actions" colspan="6">

                                        <h2>Total: @Total</h2>

                                    </td>
                                    </form>



                                </tr>
                                </tbody>
                            </table>
                       <
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
